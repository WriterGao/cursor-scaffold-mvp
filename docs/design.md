# 方案设计：简单待办列表

## 技术选型

- 前端框架：Next.js App Router（当前项目默认配置）
- 语言与类型：TypeScript + React 函数组件
- 样式：项目已有 Tailwind CSS 配置，复用现有样式风格（圆角卡片、浅色/深色背景等）
- 状态管理：React `useState`，数据仅存在于前端内存
- 后端/API：本需求不需要持久化，不新增 API Route

## 目录与路由规划

- 页面路由：
  - `/`：待办列表首页，使用现有 `app/page.tsx`，将原有计数器替换为待办列表 UI。
- 组件组织：
  - 当前需求较简单，直接在 `app/page.tsx` 中实现，不额外拆分到 `components/` 目录。
  - 如后续需求变复杂（如筛选、分类等），可再抽离出 `TodoItem`、`TodoList` 等组件。

## 数据模型

在前端内存中维护一个待办数组：

- `Todo`：
  - `id: string`：唯一标识，可使用时间戳或递增计数生成。
  - `text: string`：待办内容，来源于用户输入。
  - `completed: boolean`：是否完成。

前端状态：

- `todos: Todo[]`：当前页面中展示的所有待办。
- `input: string`：输入框中的当前文本。

## 交互流程

1. **添加待办**
   - 用户在输入框输入文本。
   - 点击“添加”按钮，若输入不为空：
     - 创建一个新的 `Todo` 对象追加到 `todos` 列表（可以添加到列表头部，最新在上）。
     - 清空输入框内容。
   - 若输入为空，则不添加，可简单忽略或禁用按钮（本 MVP 可先忽略）。

2. **勾选完成状态**
   - 列表中的每一项带有复选框或按钮。
   - 用户点击时，根据待办 `id` 在 `todos` 中找到对应项，反转 `completed` 布尔值。
   - 在 UI 上对 `completed` 为 `true` 的项应用浅灰色+删除线等样式。

3. **删除待办**
   - 每一条待办项右侧有“删除”按钮。
   - 点击后，根据 `id` 过滤掉该条待办，更新 `todos` 数组。

4. **空列表提示**
   - 当 `todos.length === 0` 时，在卡片中间展示一段提示文案（例如“还没有待办，先添加一条吧”）。

## API 设计

- 本需求不引入服务端 API；所有操作在前端内存中完成。
- 如后续需要持久化，可新增：
  - `GET /api/todos`：获取所有待办。
  - `POST /api/todos`：新增待办。
  - `PATCH /api/todos/:id`：更新完成状态或内容。
  - `DELETE /api/todos/:id`：删除待办。

## 测试设计

使用 Vitest + React Testing Library，为 `Home` 组件编写组件测试，覆盖：

- 渲染：
  - 页面渲染时，标题（如“待办列表”）存在。
  - 空列表时，空状态提示文案显示。
- 添加：
  - 在输入框输入文本，点击添加按钮后，列表中出现对应文本。
  - 添加后输入框被清空。
- 勾选：
  - 对某一项点击勾选控件后，其样式包含“完成”标记（例如 `line-through` 类名），再次点击样式恢复。
- 删除：
  - 对某一项点击删除按钮后，该项不再出现在页面上。

实现代码必须与本设计一致；若设计变更，需先更新本文档再改代码。
